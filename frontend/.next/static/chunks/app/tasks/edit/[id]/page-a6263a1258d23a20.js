(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[74],{76:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=a(9509).env.NEXT_PUBLIC_API_URL||"http://localhost:5000/api"},4614:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var r=a(5155),s=a(5695),n=a(6874),o=a.n(n),i=a(2115),l=a(8835),c=a(9159);function d(){let e=(0,s.useRouter)(),[t,a]=(0,i.useState)(!1),[n,d]=(0,i.useState)("");return((0,i.useEffect)(()=>{let e=(0,l.gf)();if(e){a(!0);try{let t=(0,c.s)(e);console.log("Decoded token:",t),d(t.name||t.username||"User")}catch(e){console.error("Failed to decode token",e)}}},[]),t)?(0,r.jsx)("nav",{className:"backdrop-blur-md bg-zinc-900/80 border-b border-zinc-700 shadow-md sticky top-0 z-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,r.jsx)(o(),{href:"/",className:"text-xl font-bold text-teal-400 hover:text-teal-300 transition duration-200",children:"\uD83E\uDDE9 TaskDash"}),(0,r.jsx)(o(),{href:"/",className:"text-gray-300 hover:text-white text-sm uppercase tracking-wide",children:"Dashboard"}),(0,r.jsx)(o(),{href:"/tasks/create",className:"text-gray-300 hover:text-white text-sm uppercase tracking-wide",children:"Create Task"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-300 italic",children:["\uD83D\uDC4B Welcome, ",n]}),(0,r.jsx)("button",{onClick:()=>{(0,l.L)(),e.push("/login")},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-full text-sm font-medium shadow-md transition duration-300 hover:cursor-pointer",title:"Logout",children:"Logout"})]})]})}):null}},5800:(e,t,a)=>{"use strict";a.d(t,{Fu:()=>n,UT:()=>i,a9:()=>o,lC:()=>l,vq:()=>c});var r=a(3464),s=a(76);let n=async e=>(await r.A.get("".concat(s.A,"/tasks"),{headers:{Authorization:"Bearer ".concat(e)}})).data,o=async(e,t)=>(await r.A.get("".concat(s.A,"/tasks/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}})).data,i=async(e,t)=>(await r.A.post("".concat(s.A,"/tasks"),e,{headers:{Authorization:"Bearer ".concat(t)}})).data,l=async(e,t,a)=>{let n=await r.A.put("".concat(s.A,"/tasks/").concat(e),t,{headers:{Authorization:"Bearer ".concat(a)}});if(!n.ok){let e=await n.json();console.error("Error updating task:",e);let t=Error(e.message||"Error updating task");throw t.response=n,t}return n.data},c=async(e,t)=>{let a=await r.A.delete("".concat(s.A,"/tasks/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}});if(!a.ok){let e=await a.json();console.error("Error deleting task:",e);let t=Error(e.message||"Error deleting task");throw t.response=a,t}return a.data}},6684:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var r=a(5155),s=a(2115),n=a(5695),o=a(5800),i=a(4614),l=a(3568);function c(){let e=(0,n.useRouter)(),{id:t}=(0,n.useParams)(),a=new Date().toISOString().split("T")[0],[c,d]=(0,s.useState)({title:"",description:"",priority:"Medium",status:"Pending",dueDate:""});(0,s.useEffect)(()=>{(async()=>{let e=localStorage.getItem("token");try{let a=await (0,o.a9)(t,e),r=a.dueDate?new Date(a.dueDate).toISOString().split("T")[0]:"";d({...a,dueDate:r})}catch(e){alert("Failed to load task")}})()},[t]);let u=e=>{d({...c,[e.target.name]:e.target.value})},h=async a=>{a.preventDefault();let r=localStorage.getItem("token"),s=new Date(c.dueDate),n=new Date;if(n.setHours(0,0,0,0),s<n)return void alert("Please select today or a future date.");try{await (0,o.lC)(t,c,r),l.Ay.success("Task updated successfully!"),e.push("/tasks")}catch(e){var i;(null==e||null==(i=e.response)?void 0:i.status)===403?l.Ay.error("Only the creator of this task can update it."):l.Ay.error("Error updating task")}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-zinc-900 via-zinc-800 to-zinc-700 text-white",children:[(0,r.jsx)(i.A,{}),(0,r.jsxs)("div",{className:"max-w-2xl mx-auto p-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-teal-400 mb-6",children:"✏️ Edit Task"}),(0,r.jsxs)("form",{onSubmit:h,className:"bg-zinc-800/70 backdrop-blur-lg rounded-2xl p-6 shadow-lg border border-zinc-700 space-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm mb-1 text-gray-300",children:"Title"}),(0,r.jsx)("input",{type:"text",name:"title",value:c.title,onChange:u,className:"w-full p-3 rounded-lg bg-zinc-900 text-white border border-zinc-600 focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm mb-1 text-gray-300",children:"Description"}),(0,r.jsx)("textarea",{name:"description",value:c.description,onChange:u,className:"w-full p-3 rounded-lg bg-zinc-900 text-white border border-zinc-600 focus:outline-none focus:ring-2 focus:ring-teal-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm mb-1 text-gray-300",children:"Due Date"}),(0,r.jsx)("input",{type:"date",name:"dueDate",value:c.dueDate,onChange:u,min:a,className:"w-full p-3 rounded-lg bg-zinc-900 text-white border border-zinc-600 focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm mb-1 text-gray-300",children:"Priority"}),(0,r.jsxs)("select",{name:"priority",value:c.priority,onChange:u,className:"w-full p-3 rounded-lg bg-zinc-900 text-white border border-zinc-600 focus:outline-none focus:ring-2 focus:ring-teal-500",children:[(0,r.jsx)("option",{value:"Low",children:"Low"}),(0,r.jsx)("option",{value:"Medium",children:"Medium"}),(0,r.jsx)("option",{value:"High",children:"High"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm mb-1 text-gray-300",children:"Status"}),(0,r.jsxs)("select",{name:"status",value:c.status,onChange:u,className:"w-full p-3 rounded-lg bg-zinc-900 text-white border border-zinc-600 focus:outline-none focus:ring-2 focus:ring-teal-500",children:[(0,r.jsx)("option",{value:"Start",children:"Start"}),(0,r.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,r.jsx)("option",{value:"Completed",children:"Completed"})]})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-teal-600 hover:bg-teal-700 text-white py-3 rounded-lg font-medium transition",children:"Update Task"})]})]})]})}},8835:(e,t,a)=>{"use strict";a.d(t,{L:()=>n,f7:()=>r,gf:()=>s});let r=e=>localStorage.setItem("token",e),s=()=>localStorage.getItem("token"),n=()=>localStorage.removeItem("token")},9159:(e,t,a)=>{"use strict";a.d(t,{s:()=>s});class r extends Error{}function s(e,t){let a;if("string"!=typeof e)throw new r("Invalid token specified: must be a string");t||(t={});let s=+(!0!==t.header),n=e.split(".")[s];if("string"!=typeof n)throw new r(`Invalid token specified: missing part #${s+1}`);try{a=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var a;return a=t,decodeURIComponent(atob(a).replace(/(.)/g,(e,t)=>{let a=t.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a}))}catch(e){return atob(t)}}(n)}catch(e){throw new r(`Invalid token specified: invalid base64 for part #${s+1} (${e.message})`)}try{return JSON.parse(a)}catch(e){throw new r(`Invalid token specified: invalid json for part #${s+1} (${e.message})`)}}r.prototype.name="InvalidTokenError"},9778:(e,t,a)=>{Promise.resolve().then(a.bind(a,6684))}},e=>{var t=t=>e(e.s=t);e.O(0,[794,874,568,441,684,358],()=>t(9778)),_N_E=e.O()}]);