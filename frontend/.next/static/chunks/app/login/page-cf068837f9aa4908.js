(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{76:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=r(9509).env.NEXT_PUBLIC_API_URL||"http://localhost:5000/api"},2476:(e,t,r)=>{"use strict";r.d(t,{DY:()=>l,Lx:()=>o,lo:()=>i});var a=r(3464),s=r(76);let l=async e=>(await a.A.post("".concat(s.A,"/auth/register"),e)).data,o=async e=>(await a.A.post("".concat(s.A,"/auth/login"),e)).data,i=async e=>(await a.A.get("".concat(s.A,"/auth/users"),{headers:{Authorization:"Bearer ".concat(e)}})).data},2919:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},6652:(e,t,r)=>{Promise.resolve().then(r.bind(r,7418))},7418:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var a=r(5155),s=r(2115),l=r(2476),o=r(8835),i=r(5695),n=r(8883),c=r(2919),d=r(6874),u=r.n(d),h=r(3568);function m(){let[e,t]=(0,s.useState)(""),[r,d]=(0,s.useState)(""),[m,g]=(0,s.useState)(!1),x=(0,i.useRouter)(),f=()=>e&&r?!!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||(h.Ay.error("Invalid email address"),!1):(h.Ay.error("Please fill in all fields"),!1),p=()=>{t(""),d("")},w=async t=>{if(t.preventDefault(),f()){g(!0);try{let{token:t,user:a}=await (0,l.Lx)({email:e,password:r});(0,o.f7)(t),localStorage.setItem("userId",a.id),h.Ay.success("Login successful!"),p(),setTimeout(()=>x.push("/"),1500)}catch(e){var a,s;(null==(a=e.response)?void 0:a.status)===400?h.Ay.error("User does not exist. Please register first."):(null==(s=e.response)?void 0:s.status)===401?h.Ay.error("Incorrect password. Try again"):h.Ay.error("Login failed. Please try again."),p()}finally{g(!1)}}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-zinc-900 to-black flex items-center justify-center px-4",children:(0,a.jsxs)("div",{className:"w-full max-w-md bg-zinc-800 rounded-2xl p-8 shadow-2xl border border-zinc-700 animate-fadeIn",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-teal-400 text-center mb-6",children:"Sign In"}),(0,a.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n.A,{className:"absolute left-3 top-3 text-gray-400",size:20}),(0,a.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Email",className:"w-full pl-10 pr-4 py-2 rounded-xl bg-zinc-700 text-white border border-zinc-600 focus:outline-none focus:ring-2 focus:ring-teal-500 transition"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.A,{className:"absolute left-3 top-3 text-gray-400",size:20}),(0,a.jsx)("input",{type:"password",value:r,onChange:e=>d(e.target.value),placeholder:"Password",className:"w-full pl-10 pr-4 py-2 rounded-xl bg-zinc-700 text-white border border-zinc-600 focus:outline-none focus:ring-2 focus:ring-teal-500 transition"})]}),(0,a.jsx)("button",{type:"submit",disabled:m,className:"w-full ".concat(m?"bg-teal-500 cursor-not-allowed":"bg-teal-600 hover:bg-teal-700"," transition-all duration-200 text-white font-semibold py-2 rounded-xl shadow-md hover:shadow-lg transform hover:scale-[1.02] hover:cursor-pointer"),children:m?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),"Logging in..."]}):"Login"})]}),(0,a.jsxs)("p",{className:"mt-6 text-center text-gray-400 text-sm",children:["Don't have an account?"," ",(0,a.jsx)(u(),{href:"/register",className:"text-teal-400 hover:underline cursor-pointer",children:"Register here"})]})]})})}},8835:(e,t,r)=>{"use strict";r.d(t,{L:()=>l,f7:()=>a,gf:()=>s});let a=e=>localStorage.setItem("token",e),s=()=>localStorage.getItem("token"),l=()=>localStorage.removeItem("token")},8883:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var a=r(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),o=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},n=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:d="",children:u,iconNode:h,...m}=e;return(0,a.createElement)("svg",{ref:t,...c,width:s,height:s,stroke:r,strokeWidth:o?24*Number(l)/Number(s):l,className:i("lucide",d),...!u&&!n(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,a.forwardRef)((r,l)=>{let{className:n,...c}=r;return(0,a.createElement)(d,{ref:l,iconNode:t,className:i("lucide-".concat(s(o(e))),"lucide-".concat(e),n),...c})});return r.displayName=o(e),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[794,874,568,441,684,358],()=>t(6652)),_N_E=e.O()}]);