(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{76:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=a(9509).env.NEXT_PUBLIC_API_URL||"http://localhost:5000/api"},159:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var s=a(5155),r=a(2115),n=a(5695),i=a(6874),o=a.n(i),c=a(5800),l=a(8835),d=a(4614);function u(e){let{children:t}=e,a=(0,n.useRouter)(),[s,i]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{(0,l.gf)()?i(!0):a.push("/login")},[a]),s?t:null}var h=a(9159);function x(){let[e,t]=(0,r.useState)({}),a=(0,n.useRouter)();(0,r.useEffect)(()=>{let e=(0,l.gf)();if(!e)return void a.push("/login");let s=(0,h.s)(e).id;(async()=>{try{let a=await (0,c.Fu)(e);t({assignedTasks:a.filter(e=>{var t;return(null==(t=e.assignedTo)?void 0:t._id)===s}),createdTasks:a.filter(e=>{var t;return(null==(t=e.createdBy)?void 0:t._id)===s}),overdueTasks:a.filter(e=>new Date(e.dueDate)<new Date&&"Completed"!==e.status)})}catch(e){alert("Failed to load tasks")}})()},[a]);let{assignedTasks:i=[],createdTasks:x=[],overdueTasks:m=[]}=e,p=e=>(0,s.jsx)(o(),{href:"/tasks/".concat(e._id),children:(0,s.jsxs)("div",{className:"bg-zinc-800/70 backdrop-blur-lg rounded-2xl p-5 shadow-md hover:shadow-zinc-600 transition-shadow duration-300 border border-zinc-700",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-teal-400 mb-2",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-300 mb-3",children:e.description}),(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-400",children:[(0,s.jsxs)("span",{children:["\uD83D\uDCC5 ",new Date(e.createdAt).toLocaleDateString()]}),(0,s.jsx)("span",{className:"px-3 py-1 rounded-full text-xs uppercase font-bold tracking-wide ".concat("Completed"===e.status?"bg-green-600 text-white":"bg-yellow-600 text-white"),children:e.status||"Pending"})]})]},e._id)},e._id);return(0,s.jsx)(u,{children:(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-zinc-900 via-zinc-800 to-zinc-700 text-white",children:[(0,s.jsx)("div",{className:"sticky top-0 z-50 bg-zinc-900",children:(0,s.jsx)(d.A,{})}),(0,s.jsxs)("div",{className:"max-w-6xl mx-auto p-6",children:[(0,s.jsx)("h1",{className:"text-4xl font-extrabold mb-10 tracking-tight",children:"\uD83E\uDDE9 Task Dashboard"}),(0,s.jsx)(o(),{href:"/tasks",children:(0,s.jsx)("div",{className:"fixed bottom-6 right-6 bg-teal-600 hover:bg-teal-700 text-white px-4 py-3 rounded-full shadow-lg cursor-pointer z-50",children:"\uD83D\uDD0D View All Tasks"})}),(0,s.jsx)(g,{title:"\uD83D\uDCCC Tasks Assigned to You",tasks:i,renderTaskCard:p}),(0,s.jsx)(g,{title:"✍️ Tasks You Created",tasks:x,renderTaskCard:p}),(0,s.jsx)(g,{title:"⏰ Overdue Tasks",tasks:m,renderTaskCard:p,warning:!0})]})]})})}function g(e){let{title:t,tasks:a,renderTaskCard:r,warning:n=!1}=e;return(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4 ".concat(n?"text-red-500":"text-teal-300"),children:t}),0===a.length?(0,s.jsx)("p",{className:"text-gray-400 mb-6 italic",children:"No tasks found in this section."}):(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(r)})]})}},4614:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var s=a(5155),r=a(5695),n=a(6874),i=a.n(n),o=a(2115),c=a(8835),l=a(9159);function d(){let e=(0,r.useRouter)(),[t,a]=(0,o.useState)(!1),[n,d]=(0,o.useState)("");return((0,o.useEffect)(()=>{let e=(0,c.gf)();if(e){a(!0);try{let t=(0,l.s)(e);console.log("Decoded token:",t),d(t.name||t.username||"User")}catch(e){console.error("Failed to decode token",e)}}},[]),t)?(0,s.jsx)("nav",{className:"backdrop-blur-md bg-zinc-900/80 border-b border-zinc-700 shadow-md sticky top-0 z-50",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,s.jsx)(i(),{href:"/",className:"text-xl font-bold text-teal-400 hover:text-teal-300 transition duration-200",children:"\uD83E\uDDE9 TaskDash"}),(0,s.jsx)(i(),{href:"/",className:"text-gray-300 hover:text-white text-sm uppercase tracking-wide",children:"Dashboard"}),(0,s.jsx)(i(),{href:"/tasks/create",className:"text-gray-300 hover:text-white text-sm uppercase tracking-wide",children:"Create Task"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-300 italic",children:["\uD83D\uDC4B Welcome, ",n]}),(0,s.jsx)("button",{onClick:()=>{(0,c.L)(),e.push("/login")},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-full text-sm font-medium shadow-md transition duration-300 hover:cursor-pointer",title:"Logout",children:"Logout"})]})]})}):null}},5800:(e,t,a)=>{"use strict";a.d(t,{Fu:()=>n,UT:()=>o,a9:()=>i,lC:()=>c,vq:()=>l});var s=a(3464),r=a(76);let n=async e=>(await s.A.get("".concat(r.A,"/tasks"),{headers:{Authorization:"Bearer ".concat(e)}})).data,i=async(e,t)=>(await s.A.get("".concat(r.A,"/tasks/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}})).data,o=async(e,t)=>(await s.A.post("".concat(r.A,"/tasks"),e,{headers:{Authorization:"Bearer ".concat(t)}})).data,c=async(e,t,a)=>{let n=await s.A.put("".concat(r.A,"/tasks/").concat(e),t,{headers:{Authorization:"Bearer ".concat(a)}});if(!n.ok){let e=await n.json();console.error("Error updating task:",e);let t=Error(e.message||"Error updating task");throw t.response=n,t}return n.data},l=async(e,t)=>{let a=await s.A.delete("".concat(r.A,"/tasks/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}});if(!a.ok){let e=await a.json();console.error("Error deleting task:",e);let t=Error(e.message||"Error deleting task");throw t.response=a,t}return a.data}},8835:(e,t,a)=>{"use strict";a.d(t,{L:()=>n,f7:()=>s,gf:()=>r});let s=e=>localStorage.setItem("token",e),r=()=>localStorage.getItem("token"),n=()=>localStorage.removeItem("token")},9159:(e,t,a)=>{"use strict";a.d(t,{s:()=>r});class s extends Error{}function r(e,t){let a;if("string"!=typeof e)throw new s("Invalid token specified: must be a string");t||(t={});let r=+(!0!==t.header),n=e.split(".")[r];if("string"!=typeof n)throw new s(`Invalid token specified: missing part #${r+1}`);try{a=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var a;return a=t,decodeURIComponent(atob(a).replace(/(.)/g,(e,t)=>{let a=t.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a}))}catch(e){return atob(t)}}(n)}catch(e){throw new s(`Invalid token specified: invalid base64 for part #${r+1} (${e.message})`)}try{return JSON.parse(a)}catch(e){throw new s(`Invalid token specified: invalid json for part #${r+1} (${e.message})`)}}s.prototype.name="InvalidTokenError"},9389:(e,t,a)=>{Promise.resolve().then(a.bind(a,159))}},e=>{var t=t=>e(e.s=t);e.O(0,[794,874,441,684,358],()=>t(9389)),_N_E=e.O()}]);